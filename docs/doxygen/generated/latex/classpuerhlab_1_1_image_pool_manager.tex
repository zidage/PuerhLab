\doxysection{puerhlab\+::Image\+Pool\+Manager Class Reference}
\hypertarget{classpuerhlab_1_1_image_pool_manager}{}\label{classpuerhlab_1_1_image_pool_manager}\index{puerhlab::ImagePoolManager@{puerhlab::ImagePoolManager}}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classpuerhlab_1_1_image_pool_manager_a7015a4957d018d62851b5713da5e1f23}\label{classpuerhlab_1_1_image_pool_manager_a7015a4957d018d62851b5713da5e1f23} 
{\bfseries Image\+Pool\+Manager} (uint32\+\_\+t capacity\+\_\+thumb, uint32\+\_\+t capacity\+\_\+full)
\item 
auto \mbox{\hyperlink{classpuerhlab_1_1_image_pool_manager_ac77dd04c48700d7557c8d7beeb2b2d1f}{Get\+Pool}} () -\/$>$ std\+::unordered\+\_\+map$<$ image\+\_\+id\+\_\+t, std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classpuerhlab_1_1_image}{Image}} $>$ $>$ \&
\item 
void \mbox{\hyperlink{classpuerhlab_1_1_image_pool_manager_a21cc34c921230e7dc01d93375dacfc87}{Insert}} (const std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classpuerhlab_1_1_image}{Image}} $>$ img)
\begin{DoxyCompactList}\small\item\em Insert an image into the image pool. \end{DoxyCompactList}\item 
auto \mbox{\hyperlink{classpuerhlab_1_1_image_pool_manager_a17ee9d993ed4028ecaac4e369d66aefb}{Pool\+Contains}} (const image\+\_\+id\+\_\+t \&id) -\/$>$ bool
\begin{DoxyCompactList}\small\item\em Check whether an image with the given id exists in the image pool. \end{DoxyCompactList}\item 
\Hypertarget{classpuerhlab_1_1_image_pool_manager_a44ceaad31548c665069f5be45d3f4dfa}\label{classpuerhlab_1_1_image_pool_manager_a44ceaad31548c665069f5be45d3f4dfa} 
auto {\bfseries Capacity} (const Access\+Type type) -\/$>$ uint32\+\_\+t
\item 
auto \mbox{\hyperlink{classpuerhlab_1_1_image_pool_manager_ad41849d18fb5f6dc14f4c591ed29c16f}{Access\+Element}} (const image\+\_\+id\+\_\+t \&id, const Access\+Type type) -\/$>$ std\+::optional$<$ std\+::weak\+\_\+ptr$<$ \mbox{\hyperlink{classpuerhlab_1_1_image}{Image}} $>$ $>$
\begin{DoxyCompactList}\small\item\em Access an with-\/data image from the cache. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classpuerhlab_1_1_image_pool_manager_afe210f25b0c9238f2c634fde50dafc65}{Record\+Access}} (const image\+\_\+id\+\_\+t \&id, const Access\+Type type)
\begin{DoxyCompactList}\small\item\em Add a with-\/data image into the cache. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classpuerhlab_1_1_image_pool_manager_af2e5e85b4e41e766121b2eba288662e3}{Remove\+Record}} (const image\+\_\+id\+\_\+t \&id, const Access\+Type type)
\begin{DoxyCompactList}\small\item\em Remove a record according to its id. \end{DoxyCompactList}\item 
auto \mbox{\hyperlink{classpuerhlab_1_1_image_pool_manager_acefd913cc8e7ae5e75ee7af24ece7ce6}{Evict}} (const Access\+Type type) -\/$>$ std\+::optional$<$ std\+::weak\+\_\+ptr$<$ \mbox{\hyperlink{classpuerhlab_1_1_image}{Image}} $>$ $>$
\begin{DoxyCompactList}\small\item\em Evict an image from the cache. \end{DoxyCompactList}\item 
auto \mbox{\hyperlink{classpuerhlab_1_1_image_pool_manager_a154bbb7a1b1840eb0c2ba19aa1c2ebde}{Cache\+Contains}} (const image\+\_\+id\+\_\+t \&id, const Access\+Type type) -\/$>$ bool
\begin{DoxyCompactList}\small\item\em Check whether an image resides in the cache. \end{DoxyCompactList}\item 
\Hypertarget{classpuerhlab_1_1_image_pool_manager_a6afd099982d10a023a629db96d4601a9}\label{classpuerhlab_1_1_image_pool_manager_a6afd099982d10a023a629db96d4601a9} 
void {\bfseries Resize\+Cache} (const uint32\+\_\+t new\+\_\+capacity, const Access\+Type type)
\item 
\Hypertarget{classpuerhlab_1_1_image_pool_manager_a8afad15ab39471ea2cbef1bc96b450f7}\label{classpuerhlab_1_1_image_pool_manager_a8afad15ab39471ea2cbef1bc96b450f7} 
void {\bfseries Flush} ()
\begin{DoxyCompactList}\small\item\em Flush the cache and clear all the corresponding image data. \end{DoxyCompactList}\item 
\Hypertarget{classpuerhlab_1_1_image_pool_manager_a475396db3de61e0732f6ba4685213ebc}\label{classpuerhlab_1_1_image_pool_manager_a475396db3de61e0732f6ba4685213ebc} 
void {\bfseries Clear} ()
\begin{DoxyCompactList}\small\item\em Clear the whole image pool as well as the cache. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classpuerhlab_1_1_image_pool_manager_a9cdeb0b5358566df6d24c6a10d364f03}\label{classpuerhlab_1_1_image_pool_manager_a9cdeb0b5358566df6d24c6a10d364f03} 
static const uint32\+\_\+t {\bfseries \+\_\+default\+\_\+capacity\+\_\+thumb} = 64
\item 
\Hypertarget{classpuerhlab_1_1_image_pool_manager_a63fd1c11ad2c5a5f18302e933cb39134}\label{classpuerhlab_1_1_image_pool_manager_a63fd1c11ad2c5a5f18302e933cb39134} 
static const uint32\+\_\+t {\bfseries \+\_\+default\+\_\+capacity\+\_\+full} = 3
\end{DoxyCompactItemize}


\label{doc-func-members}
\Hypertarget{classpuerhlab_1_1_image_pool_manager_doc-func-members}
\doxysubsection{Member Function Documentation}
\Hypertarget{classpuerhlab_1_1_image_pool_manager_ad41849d18fb5f6dc14f4c591ed29c16f}\index{puerhlab::ImagePoolManager@{puerhlab::ImagePoolManager}!AccessElement@{AccessElement}}
\index{AccessElement@{AccessElement}!puerhlab::ImagePoolManager@{puerhlab::ImagePoolManager}}
\doxysubsubsection{\texorpdfstring{AccessElement()}{AccessElement()}}
{\footnotesize\ttfamily \label{classpuerhlab_1_1_image_pool_manager_ad41849d18fb5f6dc14f4c591ed29c16f} 
auto puerhlab\+::\+Image\+Pool\+Manager\+::\+Access\+Element (\begin{DoxyParamCaption}\item[{const image\+\_\+id\+\_\+t \&}]{id}{, }\item[{const Access\+Type}]{type}{}\end{DoxyParamCaption}) -\/$>$ std\+::optional$<$std\+::weak\+\_\+ptr$<$\mbox{\hyperlink{classpuerhlab_1_1_image}{Image}}$>$$>$}



Access an with-\/data image from the cache. 


\begin{DoxyParams}{Parameters}
{\em id} & \\
\hline
{\em type} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
std\+::optional$<$std\+::weak\+\_\+ptr$<$\+Image$>$$>$ 
\end{DoxyReturn}
\Hypertarget{classpuerhlab_1_1_image_pool_manager_a154bbb7a1b1840eb0c2ba19aa1c2ebde}\index{puerhlab::ImagePoolManager@{puerhlab::ImagePoolManager}!CacheContains@{CacheContains}}
\index{CacheContains@{CacheContains}!puerhlab::ImagePoolManager@{puerhlab::ImagePoolManager}}
\doxysubsubsection{\texorpdfstring{CacheContains()}{CacheContains()}}
{\footnotesize\ttfamily \label{classpuerhlab_1_1_image_pool_manager_a154bbb7a1b1840eb0c2ba19aa1c2ebde} 
auto puerhlab\+::\+Image\+Pool\+Manager\+::\+Cache\+Contains (\begin{DoxyParamCaption}\item[{const image\+\_\+id\+\_\+t \&}]{id}{, }\item[{const Access\+Type}]{type}{}\end{DoxyParamCaption}) -\/$>$ bool}



Check whether an image resides in the cache. 


\begin{DoxyParams}{Parameters}
{\em id} & \\
\hline
{\em type} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}
\Hypertarget{classpuerhlab_1_1_image_pool_manager_acefd913cc8e7ae5e75ee7af24ece7ce6}\index{puerhlab::ImagePoolManager@{puerhlab::ImagePoolManager}!Evict@{Evict}}
\index{Evict@{Evict}!puerhlab::ImagePoolManager@{puerhlab::ImagePoolManager}}
\doxysubsubsection{\texorpdfstring{Evict()}{Evict()}}
{\footnotesize\ttfamily \label{classpuerhlab_1_1_image_pool_manager_acefd913cc8e7ae5e75ee7af24ece7ce6} 
auto puerhlab\+::\+Image\+Pool\+Manager\+::\+Evict (\begin{DoxyParamCaption}\item[{const Access\+Type}]{type}{}\end{DoxyParamCaption}) -\/$>$ std\+::optional$<$std\+::weak\+\_\+ptr$<$\mbox{\hyperlink{classpuerhlab_1_1_image}{Image}}$>$$>$}



Evict an image from the cache. 


\begin{DoxyParams}{Parameters}
{\em type} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
std\+::optional$<$std\+::weak\+\_\+ptr$<$\+Image$>$$>$ 
\end{DoxyReturn}
\Hypertarget{classpuerhlab_1_1_image_pool_manager_ac77dd04c48700d7557c8d7beeb2b2d1f}\index{puerhlab::ImagePoolManager@{puerhlab::ImagePoolManager}!GetPool@{GetPool}}
\index{GetPool@{GetPool}!puerhlab::ImagePoolManager@{puerhlab::ImagePoolManager}}
\doxysubsubsection{\texorpdfstring{GetPool()}{GetPool()}}
{\footnotesize\ttfamily \label{classpuerhlab_1_1_image_pool_manager_ac77dd04c48700d7557c8d7beeb2b2d1f} 
auto puerhlab\+::\+Image\+Pool\+Manager\+::\+Get\+Pool (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) -\/$>$ std\+::unordered\+\_\+map$<$image\+\_\+id\+\_\+t, std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classpuerhlab_1_1_image}{Image}}$>$$>$\&}

\begin{DoxyReturn}{Returns}
std\+::unordered\+\_\+map$<$image\+\_\+id\+\_\+t, std\+::shared\+\_\+ptr$<$\+Image$>$$>$ 
\end{DoxyReturn}
\Hypertarget{classpuerhlab_1_1_image_pool_manager_a21cc34c921230e7dc01d93375dacfc87}\index{puerhlab::ImagePoolManager@{puerhlab::ImagePoolManager}!Insert@{Insert}}
\index{Insert@{Insert}!puerhlab::ImagePoolManager@{puerhlab::ImagePoolManager}}
\doxysubsubsection{\texorpdfstring{Insert()}{Insert()}}
{\footnotesize\ttfamily \label{classpuerhlab_1_1_image_pool_manager_a21cc34c921230e7dc01d93375dacfc87} 
void puerhlab\+::\+Image\+Pool\+Manager\+::\+Insert (\begin{DoxyParamCaption}\item[{const std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classpuerhlab_1_1_image}{Image}} $>$}]{img}{}\end{DoxyParamCaption})}



Insert an image into the image pool. 


\begin{DoxyParams}{Parameters}
{\em img} & \\
\hline
\end{DoxyParams}
\Hypertarget{classpuerhlab_1_1_image_pool_manager_a17ee9d993ed4028ecaac4e369d66aefb}\index{puerhlab::ImagePoolManager@{puerhlab::ImagePoolManager}!PoolContains@{PoolContains}}
\index{PoolContains@{PoolContains}!puerhlab::ImagePoolManager@{puerhlab::ImagePoolManager}}
\doxysubsubsection{\texorpdfstring{PoolContains()}{PoolContains()}}
{\footnotesize\ttfamily \label{classpuerhlab_1_1_image_pool_manager_a17ee9d993ed4028ecaac4e369d66aefb} 
auto puerhlab\+::\+Image\+Pool\+Manager\+::\+Pool\+Contains (\begin{DoxyParamCaption}\item[{const image\+\_\+id\+\_\+t \&}]{id}{}\end{DoxyParamCaption}) -\/$>$ bool}



Check whether an image with the given id exists in the image pool. 


\begin{DoxyParams}{Parameters}
{\em id} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true image exists 

false image not exists 
\end{DoxyReturn}
\Hypertarget{classpuerhlab_1_1_image_pool_manager_afe210f25b0c9238f2c634fde50dafc65}\index{puerhlab::ImagePoolManager@{puerhlab::ImagePoolManager}!RecordAccess@{RecordAccess}}
\index{RecordAccess@{RecordAccess}!puerhlab::ImagePoolManager@{puerhlab::ImagePoolManager}}
\doxysubsubsection{\texorpdfstring{RecordAccess()}{RecordAccess()}}
{\footnotesize\ttfamily \label{classpuerhlab_1_1_image_pool_manager_afe210f25b0c9238f2c634fde50dafc65} 
void puerhlab\+::\+Image\+Pool\+Manager\+::\+Record\+Access (\begin{DoxyParamCaption}\item[{const image\+\_\+id\+\_\+t \&}]{id}{, }\item[{const Access\+Type}]{type}{}\end{DoxyParamCaption})}



Add a with-\/data image into the cache. 


\begin{DoxyParams}{Parameters}
{\em id} & \\
\hline
{\em type} & \\
\hline
\end{DoxyParams}
\Hypertarget{classpuerhlab_1_1_image_pool_manager_af2e5e85b4e41e766121b2eba288662e3}\index{puerhlab::ImagePoolManager@{puerhlab::ImagePoolManager}!RemoveRecord@{RemoveRecord}}
\index{RemoveRecord@{RemoveRecord}!puerhlab::ImagePoolManager@{puerhlab::ImagePoolManager}}
\doxysubsubsection{\texorpdfstring{RemoveRecord()}{RemoveRecord()}}
{\footnotesize\ttfamily \label{classpuerhlab_1_1_image_pool_manager_af2e5e85b4e41e766121b2eba288662e3} 
void puerhlab\+::\+Image\+Pool\+Manager\+::\+Remove\+Record (\begin{DoxyParamCaption}\item[{const image\+\_\+id\+\_\+t \&}]{id}{, }\item[{const Access\+Type}]{type}{}\end{DoxyParamCaption})}



Remove a record according to its id. 


\begin{DoxyParams}{Parameters}
{\em id} & \\
\hline
{\em type} & \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
D\+:/\+Projects/pu-\/erh\+\_\+lab/pu-\/erh\+\_\+lab/src/include/storage/image\+\_\+pool/image\+\_\+pool\+\_\+manager.\+hpp\item 
D\+:/\+Projects/pu-\/erh\+\_\+lab/pu-\/erh\+\_\+lab/src/storage/image\+\_\+pool/image\+\_\+pool\+\_\+manager.\+cpp\end{DoxyCompactItemize}
